# Flip/Flop Computation Examples

這個目錄包含 Flip/Flop 演算法在最簡單蛋白質結構上的可執行範例。

## 範例說明

### `flop_example.py`

完整的 Flip/Flop 計算範例，包含兩個主要部分：

#### 1. 阿蒂亞 Flop (Atiyah Flop) - 數學基礎

實現了代數幾何中最簡單的 Flop 範例：
- 從解消簇 X~（Flop 前）採樣點雲
- 從解消簇 X~'（Flop 後）採樣點雲
- 使用 TDA 分析拓撲變化
- 比較持續圖以捕捉 Flop 操作的效果

**數學背景：**
- 初始簇：X = {(x,y,z,w) ∈ ℂ⁴ | xy = zw}
- 解消後有例外曲線 E ≅ ℙ¹（拓撲上為 S²）
- Flop 操作改變例外曲線的自交數（從 -1 到 +1）

#### 2. 蛋白質 Flop 類比 - β-髮夾肽

將 Flop 操作類比到蛋白質構象轉變：
- **折疊態**（Flop 前）：穩定的 β-髮夾結構
- **展開態**（Flop 後）：部分折疊或錯誤結構
- 使用 RMSD 距離矩陣進行 TDA 分析
- 觀察 β₁ 特徵（環/洞）的持久性差異

**生物學意義：**
- 轉角區域（Turn Region）類比於例外曲線 E
- 局部重組（氫鍵斷裂/形成）類比於 Flop 操作
- 拓撲差異反映結構穩定性

## 使用方法

### 基本執行

```bash
cd examples
python flop_example.py
```

### 輸出結果

範例會生成以下輸出：

1. **控制台輸出**：
   - 幾何差異統計
   - 持續同調統計比較
   - 關鍵觀察結果

2. **可視化圖表**（保存在 `../output/`）：
   - `atiyah_flop_dim1.png` - 阿蒂亞 Flop 維度 1 持續圖比較
   - `atiyah_flop_dim2.png` - 阿蒂亞 Flop 維度 2 持續圖比較
   - `protein_flop_dim1.png` - 蛋白質 Flop 類比維度 1 持續圖比較
   - `protein_flop_dim2.png` - 蛋白質 Flop 類比維度 2 持續圖比較

## 預期結果

### 阿蒂亞 Flop

- Flop 前後的持續圖應該不同
- 維度 2 的特徵（對應 S² 拓撲）應該有明顯的持久性
- 持久性的差異反映了例外曲線嵌入方式的改變

### 蛋白質 Flop 類比

- **折疊態**應該有更持久的 β₁ 特徵（環/洞）
- 這表明折疊態的拓撲結構更穩定、更緊密
- **展開態**的 β₁ 特徵持久性較低，表示結構更開放

## 理論背景

這些範例展示了：

1. **TDA 與 MMP 的橋樑**：
   - 如何用 TDA 捕捉 Flop 操作的拓撲效果
   - 持續圖差異對應於代數結構的變化

2. **蛋白質折疊的類比**：
   - Flop 操作如何類比構象轉變
   - 拓撲不變量如何反映結構穩定性

3. **計算可行性**：
   - 在簡單系統上驗證方法
   - 為更複雜的蛋白質系統奠定基礎

## 相關文件

- 理論背景：`../protein-flop.md`
- 學術論文：`../protein-flop.tex`
- 主程式：`../main.py`
- 使用範例：`../example_usage.py`

